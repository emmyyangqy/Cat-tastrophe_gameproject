[gd_scene load_steps=55 format=3 uid="uid://bgvus0rrvmn4k"]

[ext_resource type="Texture2D" uid="uid://c20voyfweoask" path="res://light-gray-color-solid-background-1920x1080.png" id="1_temqt"]
[ext_resource type="Texture2D" uid="uid://bcnmxylav2f2t" path="res://objects/window_1.png" id="2_rtypi"]
[ext_resource type="Texture2D" uid="uid://teuhpwgy4rgx" path="res://objects/pixil-frame-0 (1).png" id="3_v0ehb"]
[ext_resource type="Texture2D" uid="uid://d1h1e2omkbas1" path="res://objects/pixil-frame-0 (2) copy.png" id="4_img77"]
[ext_resource type="Texture2D" uid="uid://f10gdn7yao7t" path="res://objects/pixil-frame-0 (5).png" id="5_j4as7"]
[ext_resource type="Texture2D" uid="uid://drikeq6u6aj8h" path="res://objects/book/pixil-frame-0 (7).png" id="6_1lbhc"]
[ext_resource type="Texture2D" uid="uid://0w647wwbtdfd" path="res://objects/book/pixil-frame-0 (6).png" id="7_vdtn6"]
[ext_resource type="Texture2D" uid="uid://ft03sbddhdt7" path="res://objects/book/pixil-frame-0 (8).png" id="8_f0w0u"]
[ext_resource type="Texture2D" uid="uid://qeycmfeaim3y" path="res://objects/book/pixil-frame-0 (9).png" id="9_apudk"]
[ext_resource type="Texture2D" uid="uid://viakl7wkd2md" path="res://objects/book/pixil-frame-0 (10).png" id="10_7wbfh"]
[ext_resource type="Texture2D" uid="uid://7ry5ytvp7p8i" path="res://objects/book/pixil-frame-0 (11).png" id="11_cqcpk"]
[ext_resource type="Texture2D" uid="uid://d2bfmr003c6qq" path="res://objects/door_side_open_1.png" id="12_wfgq7"]
[ext_resource type="Texture2D" uid="uid://b0oo736qi5j1x" path="res://objects/cattree_1.png" id="13_bwxsx"]
[ext_resource type="Texture2D" uid="uid://duv35ayta52x" path="res://objects/cattree_2.png" id="14_mbrlk"]
[ext_resource type="Texture2D" uid="uid://o4l0pggppy5t" path="res://objects/cattree_3.png" id="15_htbgk"]
[ext_resource type="Texture2D" uid="uid://ddse8jgwl6msq" path="res://objects/cattree_4.png" id="16_1rmyo"]
[ext_resource type="Texture2D" uid="uid://cgp8gv6qdb88f" path="res://objects/cattree_5.png" id="17_ac188"]
[ext_resource type="Texture2D" uid="uid://cqjl0qm4aex3i" path="res://objects/floor_1.png" id="18_7w7iw"]
[ext_resource type="PackedScene" uid="uid://cbr8rw5tjolhe" path="res://camera.tscn" id="19_vip8r"]
[ext_resource type="PackedScene" uid="uid://d286afde7fok0" path="res://vase.tscn" id="20_jmait"]
[ext_resource type="PackedScene" uid="uid://dfcxuh1rjly3u" path="res://door_side.tscn" id="21_fd316"]
[ext_resource type="PackedScene" uid="uid://cppy8umk55imv" path="res://scorecounter.tscn" id="22_7vw2q"]
[ext_resource type="PackedScene" uid="uid://dqt7ncin7cqe6" path="res://Player.tscn" id="23_2eliw"]

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_i5s6f"]
polygon = PackedVector2Array(462, 443, 472, 443, 472, 433, 502, 433, 502, 403, 512, 403, 512, 393, 742, 393, 742, 403, 752, 403, 752, 433, 782, 433, 782, 443, 792, 443, 792, 473, 782, 473, 782, 523, 472, 523, 472, 473, 462, 473)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_jq4ys"]
polygon = PackedVector2Array(554, 354, 554, 373, 359, 373, 359, 354)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ovtyx"]
size = Vector2(2217.52, 83.8451)

[sub_resource type="CircleShape2D" id="CircleShape2D_y6ag2"]
radius = 2.7

[sub_resource type="CircleShape2D" id="CircleShape2D_qbyec"]
radius = 2.7

[sub_resource type="RectangleShape2D" id="RectangleShape2D_wpdkx"]
size = Vector2(56, 8)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_i6rb5"]
polygon = PackedVector2Array(11, -28, 11, -24, 84.3333, -24, 84.3333, -28)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_1kqud"]
polygon = PackedVector2Array(-17, 1.66666, -17, 5.66666, 19, 5.66666, 19, 1.66666)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_mk04y"]
size = Vector2(36, 4)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_6nimr"]
size = Vector2(73.6667, 4)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_8qcja"]
size = Vector2(8, 32)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_8d4de"]
size = Vector2(8, 40)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_flitk"]
size = Vector2(8, 32)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_unssd"]
size = Vector2(8, 36)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_3idjx"]
size = Vector2(12, 28)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_g638q"]
size = Vector2(4, 36)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_t4wgp"]
polygon = PackedVector2Array(-10, -10, 10, -10, 10, -6, -10, -6)

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_8no3v"]
texture = ExtResource("13_bwxsx")
texture_region_size = Vector2i(20, 20)
0:0/0 = 0
0:0/0/occlusion_layer_0/polygon = SubResource("OccluderPolygon2D_t4wgp")
0:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:0/0/physics_layer_0/angular_velocity = 0.0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-10, -10, 10, -10, 10, -6, -10, -6)
0:0/0/physics_layer_0/polygon_0/one_way = true

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_vmvem"]
texture = ExtResource("14_mbrlk")
texture_region_size = Vector2i(20, 20)
0:0/0 = 0
0:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:0/0/physics_layer_0/angular_velocity = 0.0

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_wctmx"]
polygon = PackedVector2Array(-10, -10, 10, -10, 10, -6, -10, -6)

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_yjloj"]
texture = ExtResource("15_htbgk")
texture_region_size = Vector2i(20, 20)
0:0/0 = 0
0:0/0/occlusion_layer_0/polygon = SubResource("OccluderPolygon2D_wctmx")
0:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:0/0/physics_layer_0/angular_velocity = 0.0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-10, -10, 10, -10, 10, -6, -10, -6)
0:0/0/physics_layer_0/polygon_0/one_way = true

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_k0dud"]
polygon = PackedVector2Array(-4, -10, 10, -10, 10, -6, -4, -6)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_snmsg"]
polygon = PackedVector2Array(-10, -10, 4, -10, 4, -6, -10, -6)

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_mlb7n"]
texture = ExtResource("16_1rmyo")
texture_region_size = Vector2i(20, 20)
0:0/next_alternative_id = 2
0:0/0 = 0
0:0/0/occlusion_layer_0/polygon = SubResource("OccluderPolygon2D_k0dud")
0:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:0/0/physics_layer_0/angular_velocity = 0.0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-4, -10, 10, -10, 10, -6, -4, -6)
0:0/0/physics_layer_0/polygon_0/one_way = true
0:0/1 = 1
0:0/1/flip_h = true
0:0/1/occlusion_layer_0/polygon = SubResource("OccluderPolygon2D_snmsg")
0:0/1/physics_layer_0/linear_velocity = Vector2(0, 0)
0:0/1/physics_layer_0/angular_velocity = 0.0
0:0/1/physics_layer_0/polygon_0/points = PackedVector2Array(-10, -10, 4, -10, 4, -6, -10, -6)
0:0/1/physics_layer_0/polygon_0/one_way = true

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_8fvsn"]
polygon = PackedVector2Array(-10, 3, -6.0546, 3, -6, 6, 6, 6, 6.40815, 3, 10, 3, 10, 10, -10, 10)

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_4yvf8"]
texture = ExtResource("17_ac188")
texture_region_size = Vector2i(20, 20)
0:0/0 = 0
0:0/0/occlusion_layer_0/polygon = SubResource("OccluderPolygon2D_8fvsn")
0:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:0/0/physics_layer_0/angular_velocity = 0.0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(10, 6, 10, 10, -10, 10, -10, 3, -6, 3, -6, 6, 6, 6, 6, 3, 10, 3)
0:0/0/physics_layer_0/polygon_0/one_way = true

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_1331k"]
polygon = PackedVector2Array(-10, 6, 10, 6, 10, 10, -10, 10)

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_ig5il"]
texture = ExtResource("18_7w7iw")
texture_region_size = Vector2i(20, 20)
0:0/0 = 0
0:0/0/occlusion_layer_0/polygon = SubResource("OccluderPolygon2D_1331k")
0:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:0/0/physics_layer_0/angular_velocity = 0.0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(10, 6, 10, 10, -10, 10, -10, 6)
0:0/0/physics_layer_0/polygon_0/one_way = true

[sub_resource type="TileSet" id="TileSet_k7473"]
tile_size = Vector2i(20, 20)
occlusion_layer_0/light_mask = 1
physics_layer_0/collision_layer = 1
physics_layer_0/collision_mask = 7
sources/0 = SubResource("TileSetAtlasSource_8no3v")
sources/1 = SubResource("TileSetAtlasSource_vmvem")
sources/2 = SubResource("TileSetAtlasSource_yjloj")
sources/3 = SubResource("TileSetAtlasSource_mlb7n")
sources/4 = SubResource("TileSetAtlasSource_4yvf8")
sources/5 = SubResource("TileSetAtlasSource_ig5il")

[sub_resource type="RectangleShape2D" id="RectangleShape2D_2kjna"]
size = Vector2(1296, 140)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_37tjb"]
size = Vector2(47, 641)

[node name="Scene_2" type="Node2D"]

[node name="LightOccluder2D2" type="LightOccluder2D" parent="."]
occluder = SubResource("OccluderPolygon2D_i5s6f")

[node name="LightOccluder2D" type="LightOccluder2D" parent="."]
occluder = SubResource("OccluderPolygon2D_jq4ys")

[node name="Node2D" type="Node2D" parent="."]
position = Vector2(610, 303)

[node name="Wallpaper" type="Sprite2D" parent="Node2D"]
modulate = Color(0.870588, 0.756863, 0.831373, 0.827451)
texture = ExtResource("1_temqt")

[node name="floortrimshadow" type="Sprite2D" parent="Node2D"]
modulate = Color(0.4, 0.360784, 0.439216, 1)
position = Vector2(312, 227)
scale = Vector2(1, 0.0296296)
texture = ExtResource("1_temqt")

[node name="floortrim" type="Sprite2D" parent="Node2D"]
position = Vector2(314, 231)
scale = Vector2(1, 0.0296296)
texture = ExtResource("1_temqt")

[node name="outsidewindow" type="Sprite2D" parent="Node2D"]
position = Vector2(-152.5, -56)
scale = Vector2(0.0880209, 0.216667)
texture = ExtResource("1_temqt")

[node name="window" type="Sprite2D" parent="Node2D"]
texture_filter = 1
position = Vector2(-158, -70)
scale = Vector2(9.3, 9.3)
texture = ExtResource("2_rtypi")

[node name="StaticBody2D" type="StaticBody2D" parent="Node2D/window"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Node2D/window/StaticBody2D"]
position = Vector2(0.473751, 13.9695)
scale = Vector2(0.00946461, 0.0232975)
shape = SubResource("RectangleShape2D_ovtyx")
one_way_collision = true

[node name="sofa" type="StaticBody2D" parent="Node2D"]
position = Vector2(62, 200)
scale = Vector2(10, 10)

[node name="Sprite2D" type="Sprite2D" parent="Node2D/sofa"]
modulate = Color(0.941176, 0.717647, 0.882353, 1)
texture_filter = 1
texture = ExtResource("3_v0ehb")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Node2D/sofa"]
polygon = PackedVector2Array(-21, -5.9, -20, -7, -16, -7, -14, -4.9, -14, -4, 5, -4, 5, -5, 7, -7, 11, -7, 12.1, -5.9, 11.2, -4.8, 7.6, -4.5, 1, -2.4, -11.4, -2.4, -15.3, -3.9, -19.3, -5.2)
one_way_collision = true

[node name="CollisionPolygon2D2" type="CollisionPolygon2D" parent="Node2D/sofa"]
polygon = PackedVector2Array(-17, -9.9, -16, -10.9, 6.9, -10.9, 8, -9.9, -4.3, -9.1)
one_way_collision = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="Node2D/sofa"]
position = Vector2(-16.7, -4.3)
rotation = 0.825541
shape = SubResource("CircleShape2D_y6ag2")
one_way_collision = true

[node name="CollisionShape2D2" type="CollisionShape2D" parent="Node2D/sofa"]
position = Vector2(7.7, -4.3)
rotation = -0.888373
shape = SubResource("CircleShape2D_qbyec")
one_way_collision = true

[node name="lamp" type="RigidBody2D" parent="Node2D"]
position = Vector2(218, 207)
collision_layer = 0
mass = 2.0
center_of_mass_mode = 1

[node name="Sprite2D" type="Sprite2D" parent="Node2D/lamp"]
modulate = Color(1, 0.929412, 0.972549, 1)
texture_filter = 1
position = Vector2(44, -49)
scale = Vector2(8, 8)
texture = ExtResource("4_img77")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Node2D/lamp"]
position = Vector2(44, -49)
scale = Vector2(8, 8)
polygon = PackedVector2Array(-9, -13, -2, -13, -1, -12, -1, -6, -10, -6, -10, -12)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Node2D/lamp"]
position = Vector2(0, 27)
shape = SubResource("RectangleShape2D_wpdkx")

[node name="shelf" type="StaticBody2D" parent="Node2D"]
position = Vector2(146, -22)
scale = Vector2(3, 3)

[node name="LightOccluder2D" type="LightOccluder2D" parent="Node2D/shelf"]
occluder = SubResource("OccluderPolygon2D_i6rb5")

[node name="LightOccluder2D2" type="LightOccluder2D" parent="Node2D/shelf"]
occluder = SubResource("OccluderPolygon2D_1kqud")

[node name="Sprite2D" type="Sprite2D" parent="Node2D/shelf"]
texture_filter = 1
position = Vector2(0, 9.66666)
texture = ExtResource("5_j4as7")

[node name="Sprite2D2" type="Sprite2D" parent="Node2D/shelf"]
texture_filter = 1
position = Vector2(45.3333, -20)
scale = Vector2(2.04667, 1)
texture = ExtResource("5_j4as7")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Node2D/shelf"]
position = Vector2(1, 3.66666)
shape = SubResource("RectangleShape2D_mk04y")

[node name="CollisionShape2D2" type="CollisionShape2D" parent="Node2D/shelf"]
position = Vector2(47.5001, -26)
shape = SubResource("RectangleShape2D_6nimr")

[node name="books" type="Node2D" parent="Node2D"]

[node name="RigidBody2D2" type="RigidBody2D" parent="Node2D/books"]
position = Vector2(333, -127)
collision_layer = 30
collision_mask = 3

[node name="Sprite2D" type="Sprite2D" parent="Node2D/books/RigidBody2D2"]
texture_filter = 1
scale = Vector2(4, 4)
texture = ExtResource("6_1lbhc")

[node name="CollisionShape2D2" type="CollisionShape2D" parent="Node2D/books/RigidBody2D2"]
position = Vector2(0, 4)
shape = SubResource("RectangleShape2D_8qcja")

[node name="RigidBody2D" type="RigidBody2D" parent="Node2D/books"]
position = Vector2(301, -127)
collision_layer = 30
collision_mask = 3

[node name="Sprite2D" type="Sprite2D" parent="Node2D/books/RigidBody2D"]
texture_filter = 1
scale = Vector2(4, 4)
texture = ExtResource("7_vdtn6")

[node name="CollisionShape2D2" type="CollisionShape2D" parent="Node2D/books/RigidBody2D"]
shape = SubResource("RectangleShape2D_8d4de")

[node name="RigidBody2D3" type="RigidBody2D" parent="Node2D/books"]
position = Vector2(310, -127)
collision_layer = 30
collision_mask = 3

[node name="Sprite2D" type="Sprite2D" parent="Node2D/books/RigidBody2D3"]
texture_filter = 1
scale = Vector2(4, 4)
texture = ExtResource("8_f0w0u")

[node name="CollisionShape2D2" type="CollisionShape2D" parent="Node2D/books/RigidBody2D3"]
position = Vector2(0, 4)
shape = SubResource("RectangleShape2D_flitk")

[node name="RigidBody2D4" type="RigidBody2D" parent="Node2D/books"]
position = Vector2(319, -127)
collision_layer = 30
collision_mask = 3

[node name="Sprite2D" type="Sprite2D" parent="Node2D/books/RigidBody2D4"]
texture_filter = 1
scale = Vector2(4, 4)
texture = ExtResource("9_apudk")

[node name="CollisionShape2D2" type="CollisionShape2D" parent="Node2D/books/RigidBody2D4"]
position = Vector2(0, 2)
shape = SubResource("RectangleShape2D_unssd")

[node name="RigidBody2D5" type="RigidBody2D" parent="Node2D/books"]
position = Vector2(288, -127)
collision_layer = 30
collision_mask = 3

[node name="Sprite2D" type="Sprite2D" parent="Node2D/books/RigidBody2D5"]
texture_filter = 1
scale = Vector2(4, 4)
texture = ExtResource("10_7wbfh")

[node name="CollisionShape2D2" type="CollisionShape2D" parent="Node2D/books/RigidBody2D5"]
position = Vector2(2, 6)
shape = SubResource("RectangleShape2D_3idjx")

[node name="RigidBody2D6" type="RigidBody2D" parent="Node2D/books"]
position = Vector2(328, -127)
collision_layer = 62
collision_mask = 3

[node name="Sprite2D" type="Sprite2D" parent="Node2D/books/RigidBody2D6"]
texture_filter = 1
scale = Vector2(4, 4)
texture = ExtResource("11_cqcpk")

[node name="CollisionShape2D2" type="CollisionShape2D" parent="Node2D/books/RigidBody2D6"]
position = Vector2(-2, 2)
shape = SubResource("RectangleShape2D_g638q")

[node name="door" type="Sprite2D" parent="Node2D"]
modulate = Color(0.709804, 0.584314, 0.505882, 1)
texture_filter = 1
position = Vector2(-427, 109)
scale = Vector2(12.2, 12.2)
texture = ExtResource("12_wfgq7")
flip_h = true

[node name="floor and cattree2" type="TileMap" parent="."]
texture_filter = 1
position = Vector2(0, -1)
scale = Vector2(4, 4)
tile_set = SubResource("TileSet_k7473")
cell_quadrant_size = 20
format = 2
layer_0/name = "floor"
layer_0/tile_data = PackedInt32Array(393216, 5, 0, 393217, 5, 0, 393218, 5, 0, 393219, 5, 0, 393220, 5, 0, 393221, 5, 0, 393222, 5, 0, 393223, 5, 0, 393224, 5, 0, 393225, 5, 0, 393226, 5, 0, 393227, 5, 0, 393228, 5, 0, 393229, 5, 0, 393230, 5, 0)

[node name="Camera" parent="." instance=ExtResource("19_vip8r")]
position = Vector2(700, 292)

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
visible = false
position = Vector2(601, 615)
shape = SubResource("RectangleShape2D_2kjna")

[node name="Node2D2" parent="." instance=ExtResource("20_jmait")]
position = Vector2(991, 169)

[node name="door_side_1" parent="." instance=ExtResource("21_fd316")]
position = Vector2(971, 412)

[node name="UI" parent="." instance=ExtResource("22_7vw2q")]
position = Vector2(20, 11)

[node name="StaticBody2D" type="StaticBody2D" parent="."]

[node name="CollisionShape2D" type="CollisionShape2D" parent="StaticBody2D"]
position = Vector2(1181, 303)
shape = SubResource("RectangleShape2D_37tjb")

[node name="Player" parent="." instance=ExtResource("23_2eliw")]

[node name="StaticBody2D2" type="StaticBody2D" parent="."]
position = Vector2(-1201, 14)

[node name="CollisionShape2D" type="CollisionShape2D" parent="StaticBody2D2"]
position = Vector2(1181, 303)
shape = SubResource("RectangleShape2D_37tjb")

[connection signal="playerinLightArea" from="Camera" to="Player" method="_on_camera_playerin_light_area"]
[connection signal="playeroutLightArea" from="Camera" to="Player" method="_on_camera_playerout_light_area"]
[connection signal="off_doorknob" from="door_side_1" to="Player" method="_on_door_side_1_off_doorknob"]
[connection signal="on_doorknob" from="door_side_1" to="Player" method="_on_door_side_1_on_doorknob"]
